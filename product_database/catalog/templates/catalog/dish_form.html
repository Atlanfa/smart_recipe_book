{% extends "base_generic.html" %}
{% block content %}
{% load static %}
<script src="{% static 'js/jquery-1.3.2.min.js' %}"></script>
<script src="{% static 'js/jquery.formset.js' %}"></script>
<script type="text/javascript">
    $(function() {
        $('#myForm tbody tr').formset({
            prefix: '{{ formset.prefix }}'
        });
    })
</script>
<h1>Add Dish</h1>

    <form id="myForm" method="post">
        {% csrf_token %}
        {{ form.as_p }}
        {% with formset.empty_form as form %}

        <div id="id_empty_form" style="display:none;">
            {{ form.product.label_tag }}<br />
            {{ form.product }}
            {{ form.amount.label_tag }}<br />
            {{ form.amount }}
            {{ form.unit.label_tag }}
            {{ form.unit }}

        </div>
        {% endwith %}
         <table border="0" cellpadding="0" cellspacing="5">
                <thead>
                    <tr>
                        <th scope="col">Product</th>
                        <th scope="col">Amount</th>
                        <th scope="col">Unit</th>
                    </tr>
                </thead>
                <tbody>
                    {% for form in formset.forms %}
                    <tr id="{{ form.prefix }}-row">
                        <td>{{ form.product }}</td>
                        <td>{{ form.amount }}</td>
                        <td>{{ form.unit }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        {{ formset.management_form }}
        <input type="submit" value="Submit" />
    </form>


{% endblock %}
